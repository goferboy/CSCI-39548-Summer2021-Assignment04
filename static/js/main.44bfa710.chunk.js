(this["webpackJsonpbank-of-react"]=this["webpackJsonpbank-of-react"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(23),s=n.n(a),i=(n(29),n(21)),o=n(13),u=n(15),l=n.n(u),d=n(18),j=n(6),h=n(7),b=n(9),m=n(8),p=n(12),O=n(2),x=(n(31),n(0)),f=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)("h3",{id:"balance-amount",children:["Balance:",Object(x.jsx)("span",{style:this.props.accountBalance>=0?{color:"green"}:{color:"red"},children:this.props.accountBalance>=0?" $"+this.props.accountBalance:this.props.accountBalance.replace("-"," -$")})]})})}}]),n}(c.Component),v=(n(33),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).handleClick=function(e){c.setState({redirect:e.target.name})},c.state={redirect:""},c}return Object(h.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(x.jsx)(O.a,{to:"/"+this.state.redirect}):Object(x.jsxs)("div",{id:"home",children:[Object(x.jsx)("h1",{children:"Bank of React"}),Object(x.jsx)("img",{id:"money-bag",src:"/money_bag.svg"}),this.props.loggedIn?Object(x.jsxs)("div",{id:"user-account",children:[Object(x.jsxs)("h1",{children:["Welcome Back ",this.props.userName,"!"]}),Object(x.jsx)("button",{name:"user/"+this.props.userName,onClick:this.handleClick,children:"User Profile"}),Object(x.jsx)(f,{accountBalance:this.props.accountBalance}),Object(x.jsxs)("div",{id:"summaries",children:[Object(x.jsx)("button",{name:"user/"+this.props.userName+"/credits",onClick:this.handleClick,children:"Credits"}),Object(x.jsx)("button",{name:"user/"+this.props.userName+"/debits",onClick:this.handleClick,children:"Debits"})]})]}):Object(x.jsx)("div",{children:Object(x.jsx)("button",{id:"login-button",name:"login",onClick:this.handleClick,children:"Log In"})})]})}}]),n}(c.Component)),g=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).handleClick=function(){c.setState({redirect:!0})},c.state={redirect:!1},c}return Object(h.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(x.jsx)(O.a,{to:"/"}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"User Profile"}),Object(x.jsxs)("h3",{children:["Username: ",this.props.userName]}),Object(x.jsxs)("h3",{children:["Member Since: ",this.props.memberSince]}),Object(x.jsx)("button",{onClick:this.handleClick,children:"Return Home"})]})}}]),n}(c.Component),k=(n(39),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).handleChange=function(e){var t=Object(o.a)({},c.state.user),n=e.target.name,r=e.target.value;t[n]=r,c.setState({user:t})},c.handleSubmit=function(e){e.preventDefault(),c.props.mockLogIn(c.state.user),c.setState({redirect:!0})},c.state={user:{userName:"",password:""},redirect:!1},c}return Object(h.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(x.jsx)(O.a,{to:"/"}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Bank of React"}),Object(x.jsxs)("form",{id:"login-form",onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"form-entry",children:[Object(x.jsx)("label",{htmlFor:"userName",children:"Username: "}),Object(x.jsx)("input",{type:"text",name:"userName",onChange:this.handleChange,value:this.state.user.userName})]}),Object(x.jsxs)("div",{className:"form-entry",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(x.jsx)("input",{type:"password",name:"password"})]}),Object(x.jsx)("button",{id:"login-submit",children:"Submit"})]})]})}}]),n}(c.Component)),y=(n(40),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).handleChange=function(e){var t=Object(o.a)({},c.state.newEntry);console.log(e.target.name,e.target.value),t[e.target.name]=e.target.value,c.setState({newEntry:t})},c.handleSubmit=function(e){e.preventDefault();var t=new Date,n=Math.floor(Math.random()*Math.pow(2,30)+1),r=parseFloat(c.state.newEntry.amount),a={id:n,date:t.toISOString(),amount:r,description:c.state.newEntry.description};console.log(a),c.props.add(a)},c.handleClick=function(){c.setState({redirect:!0})},c.state={newEntry:{description:"",amount:0},redirect:!1},c}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(x.jsx)(O.a,{to:"/"}):Object(x.jsxs)("div",{className:"summary-page",children:[Object(x.jsxs)("h1",{children:[this.props.sumType," Page"]}),Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Date"}),Object(x.jsx)("th",{children:"Description"}),Object(x.jsx)("th",{style:{textAlign:"right"},children:"Amount"})]})}),Object(x.jsx)("tbody",{children:this.props.summary.map((function(t){return Object(x.jsxs)("tr",{className:"row-shade-"+e.props.summary.indexOf(t)%2,children:[Object(x.jsx)("td",{children:t.date.substring(0,10)}),Object(x.jsx)("td",{className:"desc-cell",children:t.description}),Object(x.jsx)("td",{className:"amount-cell",children:"$"+Number(t.amount).toFixed(2)})]},t.id)}))})]}),Object(x.jsx)(f,{accountBalance:this.props.accountBalance}),Object(x.jsxs)("form",{className:"add-form",onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"form-entry",children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("input",{className:"form-entry",type:"text",onChange:this.handleChange,name:"description",value:this.state.description})]}),Object(x.jsxs)("div",{className:"form-entry",children:[Object(x.jsx)("label",{children:"Amount"}),Object(x.jsx)("input",{type:"number",onChange:this.handleChange,name:"amount",value:this.state.amount,min:"0",step:"0.01"})]}),Object(x.jsx)("button",{id:"submit",color:"black",children:"Submit"})]}),Object(x.jsx)("button",{onClick:this.handleClick,children:"Return Home"})]})}}]),n}(c.Component)),N=(n(41),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).fetchCredits=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://moj-api.herokuapp.com/credits").then((function(e){return e.json()})).then((function(e){e.sort((function(e,t){return Date.parse(e.date)-Date.parse(t.date)})),c.setState({credits:e},c.calculateBalance)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),c.fetchDebits=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://moj-api.herokuapp.com/debits").then((function(e){return e.json()})).then((function(e){e.sort((function(e,t){return Date.parse(e.date)-Date.parse(t.date)})),c.setState({debits:e},c.calculateBalance)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),c.calculateBalance=function(){var e=c.state.credits.reduce((function(e,t){return e+t.amount}),0),t=c.state.debits.reduce((function(e,t){return e+t.amount}),0);c.setState({accountBalance:parseFloat(Number(e).toFixed(2)-Number(t).toFixed(2)).toFixed(2)})},c.mockLogIn=function(e){var t=Object(o.a)({},c.state.currentUser);t.loggedIn=!0,t.userName=e.userName,c.setState({currentUser:t}),c.calculateBalance()},c.addCredit=function(e){var t=Object(i.a)(c.state.credits);t.push(e),console.log(t),c.setState({credits:t},c.calculateBalance)},c.addDebit=function(e){console.log(e);var t=Object(i.a)(c.state.debits);t.push(e),c.setState({debits:t},c.calculateBalance)},c.state={accountBalance:0,currentUser:{userName:"test",memberSince:"07/01/1990",loggedIn:!1},debits:[],credits:[]},c}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchCredits(),this.fetchDebits()}},{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{children:Object(x.jsx)(p.a,{children:Object(x.jsxs)(O.d,{children:[Object(x.jsx)(O.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(v,{accountBalance:e.state.accountBalance,credits:e.state.credits,debits:e.state.debits,userName:e.state.currentUser.userName,loggedIn:e.state.currentUser.loggedIn})}}),Object(x.jsx)(O.b,{exact:!0,path:"/user/"+this.state.currentUser.userName,render:function(){return Object(x.jsx)(g,{userName:e.state.currentUser.userName,memberSince:e.state.currentUser.memberSince})}}),Object(x.jsx)(O.b,{exact:!0,path:"/login",render:function(){return Object(x.jsx)(k,{user:e.state.currentUser,mockLogIn:e.mockLogIn})}}),Object(x.jsx)(O.b,{exact:!0,path:"/user/"+this.state.currentUser.userName+"/credits",render:function(){return Object(x.jsx)(y,{sumType:"Credits",accountBalance:e.state.accountBalance,userName:e.state.currentUser.userName,summary:e.state.credits,add:e.addCredit})}}),Object(x.jsx)(O.b,{exact:!0,path:"/user/"+this.state.currentUser.userName+"/debits",render:function(){return Object(x.jsx)(y,{sumType:"Debits",accountBalance:e.state.accountBalance,userName:e.state.currentUser.userName,summary:e.state.debits,add:e.addDebit})}})]})})})}}]),n}(c.Component));s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(N,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.44bfa710.chunk.js.map